
UNKNOWN_C4D2F0: ;$C4D2F0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 22
	LDA GAME_STATE+game_state::leader_x_coord
	XBA
	AND #$00FF
	TAX
	LDY #$0080
	LDA GAME_STATE+game_state::leader_y_coord
	JSL DIVISION16S_DIVISOR_POSITIVE
	STA $14
	LOADPTR MAP_DATA_PER_SECTOR_TOWN_MAP_DATA, $06
	TXA
	OPTIMIZED_MULT $04, 3
	STA $02
	LDA $14
	OPTIMIZED_MULT $04, 96
	CLC
	ADC $02
	STA $12
	INC
	MOVE_INTX $06, $0A
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	STA $04
	LDA $12
	INC
	INC
	MOVE_INTX $06, $0A
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	STA $02
	LDA $12
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	AND #$0070
	BEQL @UNKNOWN5
	CMP #$0010
	BEQ @UNKNOWN1
	CMP #$0020
	BEQ @UNKNOWN2
	CMP #$0040
	BEQ @UNKNOWN3
	CMP #$0030
	BEQ @UNKNOWN4
	BRA @UNKNOWN5
@UNKNOWN1:
	LDA $02
	SEC
	SBC #$0008
	TAY
	LDX $04
	STX $10
	LDA f:TOWN_MAP_MAPPING+4
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $10
	JSL REDIRECT_C08C58
	BRA @UNKNOWN5
@UNKNOWN2:
	LDA $02
	CLC
	ADC #$0008
	TAY
	LDX $04
	STX $10
	LDA f:TOWN_MAP_MAPPING+6
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $10
	JSL REDIRECT_C08C58
	BRA @UNKNOWN5
@UNKNOWN3:
	LDY $02
	LDA $04
	SEC
	SBC #$0008
	TAX
	STX $12
	LDA f:TOWN_MAP_MAPPING+8
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $12
	JSL REDIRECT_C08C58
	BRA @UNKNOWN5
@UNKNOWN4:
	LDY $02
	LDA $04
	CLC
	ADC #$0010
	TAX
	STX $0E
	LDA f:TOWN_MAP_MAPPING+10
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $0E
	JSL REDIRECT_C08C58
@UNKNOWN5:
	LDA UNKNOWN_7EB4B0
	CMP #$000A
	BCS @UNKNOWN6
	LDY $02
	LDX $04
	STX $10
	LDA f:TOWN_MAP_MAPPING+2
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $10
	JSL REDIRECT_C08C58
	BRA @UNKNOWN7
@UNKNOWN6:
	LDY $02
	LDX $04
	STX $10
	LDA f:TOWN_MAP_MAPPING
	ASL
	TAX
	LDA f:UNKNOWN_E1F44C,X
	LDX $10
	JSL REDIRECT_C08C58
@UNKNOWN7:
	LDX UNKNOWN_7EB4B0
	DEX
	STX UNKNOWN_7EB4B0
	BNE @UNKNOWN8
	LDA #$0014
	STA UNKNOWN_7EB4B0
@UNKNOWN8:
	PLD
	RTS
