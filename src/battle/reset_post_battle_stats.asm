
RESET_POST_BATTLE_STATS: ;$C2BC5C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 16
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	TAX
	SEP #PROC_FLAGS::ACCUM8
	STZ a:char_struct::afflictions+6,X
	STZ a:char_struct::afflictions+4,X
	STZ a:char_struct::afflictions+3,X
	STZ a:char_struct::afflictions+2,X
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #TOTAL_PARTY_COUNT
	BCC @UNKNOWN0
	PLD
	RTL
