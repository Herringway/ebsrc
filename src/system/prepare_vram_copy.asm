
PREPARE_VRAM_COPY:
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	STA DMA_COPY_MODE
	STX DMA_COPY_SIZE
	MOVE_INT $0E, DMA_COPY_RAM_SRC
	STY DMA_COPY_VRAM_DEST
	JMP .LOWORD(PREPARE_VRAM_COPY_COMMON)
PREPARE_VRAM_COPY_ENTRY_B:
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	STA DMA_COPY_MODE
	STX DMA_COPY_SIZE
	STY DMA_COPY_RAM_SRC
	LDA $0E
	STA DMA_COPY_RAM_SRC + 2
	LDA $10
	STA DMA_COPY_VRAM_DEST
PREPARE_VRAM_COPY_COMMON:
	PHP
	REP #PROC_FLAGS::ACCUM8
	SEP #PROC_FLAGS::INDEX8
	PHD
	PEA $0000
	PLD
	PHB
	LDY #$0000
	PHY
	PLB
	REP #PROC_FLAGS::INDEX8
	JSR COPY_TO_VRAM
	PLB
	PLD
	PLP
	RTL
