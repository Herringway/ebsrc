
READ_JOYPAD: ;$C0841B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	LDA $7B
	BEQ @UNKNOWN1
	AND #$4000
	BEQ @UNKNOWN1
	DEC $81
	BNE @UNKNOWN2
	INC $7D
	INC $7D
	INC $7D
	LDA [$7D]
	AND #$00FF
	BEQ @UNKNOWN0
	STA $81
	LDY #$0001
	LDA [$7D],Y
	STA $77
	STA $79
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $7B
	AND #$BFFF
	STA $7B
@UNKNOWN1:
	LDA JOYPAD_2_DATA
	STA $79
	LDA JOYPAD_1_DATA
	STA $77
@UNKNOWN2:
	RTS
