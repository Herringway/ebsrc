
UNKNOWN_C0A3A4:
	LDA ENTITY_CURRENT_DISPLAYED_SPRITES,X
	AND #$0001
	BEQ @UNKNOWN0
	LDA ENTITY_SPRITEMAP_SIZES,X
	CLC
	ADC $8C
	STA $8C
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	LDA #$0030
	LDY #$0020
	STA $00
	STA $02
	LDA ENTITY_SURFACE_FLAGS,X
	LSR
	BCC @UNKNOWN1
	STY $02
@UNKNOWN1:
	LSR
	BCC @UNKNOWN2
	STY $00
@UNKNOWN2:
	LDA ENTITY_UPPER_LOWER_BODY_DIVIDES+1,X
	TAX
	LDY #$00FD
	BRA @UNKNOWN4
@UNKNOWN3:
	INY
	INY
	INY
	INY
	INY
	LDA [$8C],Y
	AND #$00CF
	ORA $00
	STA [$8C],Y
@UNKNOWN4:
	DEX
	BPL @UNKNOWN3
	LDX $88
	LDA ENTITY_UPPER_LOWER_BODY_DIVIDES,X
	TAX
	BRA @UNKNOWN6
@UNKNOWN5:
	INY
	INY
	INY
	INY
	INY
	LDA [$8C],Y
	AND #$00CF
	ORA $02
	STA [$8C],Y
@UNKNOWN6:
	DEX
	BPL @UNKNOWN5
	REP #PROC_FLAGS::INDEX8
	LDX $88
	LDA $8E
	STA SPRITEMAP_BANK
	REP #PROC_FLAGS::ACCUM8
	LDA ENTITY_DRAW_PRIORITY,X
	STA CURRENT_SPRITE_DRAWING_PRIORITY
	TAY
	AND #$8000
	BEQ @UNKNOWN7
	TYA
	AND #$003F
	ASL
	TAX
	LDA ENTITY_DRAW_PRIORITY,X
	LDX $88
	STA CURRENT_SPRITE_DRAWING_PRIORITY
	TYA
	AND #$4000
	BNE @UNKNOWN7
	LDA #$0000
	STA ENTITY_DRAW_PRIORITY,X
@UNKNOWN7:
	JSL UNKNOWN_C0AC43
	LDX $88
	LDA $8E
	STA SPRITEMAP_BANK
	LDY ENTITY_SCREEN_Y_TABLE,X
	LDA ENTITY_SCREEN_X_TABLE,X
	TAX
	LDA $8C
	JMP UNKNOWN_C08C58
