
UNKNOWN_C08496: ;$C08496
	SEP #PROC_FLAGS::ACCUM8
@WAIT_UNTIL_READY:
	LDA $4212
	LSR
	BCS @WAIT_UNTIL_READY
	JSR .LOWORD(READ_JOYPAD)
	JSR .LOWORD(UNKNOWN_C08456)
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	LDX #$0002
@UNKNOWN1:
	LDA $77,X
	AND #$FFF0
	STA $75
	LDA $65,X
	EOR #$FFFF
	AND $75
	STA $6D,X
	LDA $75
	CMP $65,X
	STA $65,X
	BEQ @UNKNOWN2
	LDA $6D,X
	STA $69,X
	LDA #$0014
	STA $71,X
	BRA @UNKNOWN4
@UNKNOWN2:
	LDY $71,X
	BEQ @UNKNOWN3
	DEC $71,X
	STZ $69,X
	BRA @UNKNOWN4
@UNKNOWN3:
	STA $69,X
	LDA #$0003
	STA $71,X
@UNKNOWN4:
	DEX
	DEX
	BPL @UNKNOWN1
	LDA f:DEBUG
	BNE @UNKNOWN5
	LDA $67
	ORA $65
	STA $65
	LDA $6B
	ORA $69
	STA $69
	LDA $6F
	ORA $6D
	STA $6D
@UNKNOWN5:
	LDA $6D
	BEQ @UNKNOWN6
	INC .LOWORD(UNKNOWN_7E0A34)
@UNKNOWN6:
	RTS
