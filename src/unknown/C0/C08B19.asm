
UNKNOWN_C08B19: ;$C08B19
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(UNKNOWN_7E0009)
	REP #PROC_FLAGS::ACCUM8
	JSL OAM_CLEAR
;void UpdateScreen()
UPDATE_SCREEN: ;$C08B26
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	JSR a:.LOWORD(UNKNOWN_C08B8E)
	SEP #PROC_FLAGS::ACCUM8
	PHB
	PLA
	CMP #$00FF
	BNE @UNKNOWN1
@UNKNOWN0:
	BRA @UNKNOWN0
@UNKNOWN1:
	LDA a:.LOWORD(UNKNOWN_7E000A)
	CMP #$0080
	BEQ @UNKNOWN3
@UNKNOWN2:
	LSR
	LSR
	BCC @UNKNOWN2
@UNKNOWN3:
	LDX a:.LOWORD(OAM_HIGH_TABLE_ADDR)
	STA a:$0000,X
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	LDA a:.LOWORD(NEXT_FRAME_BUF_ID)
	DEC
	ASL
	TAX
	LDA a:.LOWORD(BG1_X_POS)
	STA a:.LOWORD(BG1_X_POS_BUF),X
	LDA a:.LOWORD(BG1_Y_POS)
	STA a:.LOWORD(BG1_Y_POS_BUF),X
	LDA a:.LOWORD(BG2_X_POS)
	STA a:.LOWORD(BG2_X_POS_BUF),X
	LDA a:.LOWORD(BG2_Y_POS)
	STA a:.LOWORD(BG2_Y_POS_BUF),X
	LDA a:.LOWORD(BG3_X_POS)
	STA a:.LOWORD(BG3_X_POS_BUF),X
	LDA a:.LOWORD(BG3_Y_POS)
	STA a:.LOWORD(BG3_Y_POS_BUF),X
	LDA a:.LOWORD(BG4_X_POS)
	STA a:.LOWORD(BG4_X_POS_BUF),X
	LDA a:.LOWORD(BG4_Y_POS)
	STA a:.LOWORD(BG4_Y_POS_BUF),X
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(NEXT_FRAME_BUF_ID)
	STA a:.LOWORD(NEXT_FRAME_DISPLAY_ID)
	EOR #$0003
	STA a:.LOWORD(NEXT_FRAME_BUF_ID)
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	RTL
