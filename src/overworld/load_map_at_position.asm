
;void LoadMapAtPos(int x, int y)
LOAD_MAP_AT_POSITION: ;$C013F6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE 24
	STX $16
	STA $14
	JSL UNKNOWN_C02194
	LDA $14
	STA .LOWORD(UNKNOWN_7E4380)
	STA .LOWORD(UNKNOWN_7E437C)
	LDX $16
	STX .LOWORD(UNKNOWN_7E4382)
	STX .LOWORD(UNKNOWN_7E437E)
	LSR
	LSR
	LSR
	STA $02
	TXA
	LSR
	LSR
	LSR
	TAY
	STY $12
	TYA
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA $02
	LSR
	LSR
	LSR
	LSR
	LSR
	JSR a:.LOWORD(LOAD_MAP_AT_SECTOR)
	LDA .LOWORD(UNKNOWN_7EB4EF)
	BNE @UNKNOWN0
	JSL OVERWORLD_SETUP_VRAM
@UNKNOWN0:
	LDA $02
	SEC
	SBC #$0010
	STA $10
	LDY $12
	TYA
	SEC
	SBC #$000E
	STA $14
	LDA $02
	SEC
	SBC #$0020
	STA $04
	TYA
	SEC
	SBC #$0020
	STA $02
	STA $0E
	LDX #$0000
	BRA @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00FF
	STA .LOWORD(UNKNOWN_7E43C0),X
	STA .LOWORD(UNKNOWN_7E43B0),X
	STA .LOWORD(UNKNOWN_7E43A0),X
	STA .LOWORD(UNKNOWN_7E4390),X
	INX
@UNKNOWN2:
	CPX #$0010
	BCC @UNKNOWN1
	LDY #$0000
	STY $12
	BRA @UNKNOWN4
@UNKNOWN3:
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $02
	STY $02
	CLC
	ADC $02
	TAX
	LDA $04
	JSR a:.LOWORD(UNKNOWN_C00AC5)
	LDY $12
	INY
	STY $12
@UNKNOWN4:
	CPY #$003C
	BCC @UNKNOWN3
	LDY #$0000
	STY $12
	BRA @UNKNOWN6
@UNKNOWN5:
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $02
	STY $02
	CLC
	ADC $02
	TAX
	LDA $04
	JSR a:.LOWORD(LOAD_COLLISION_ROW)
	LDY $12
	INY
	STY $12
@UNKNOWN6:
	CPY #$003C
	BCC @UNKNOWN5
@UNKNOWN7:
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(UNKNOWN_7E0028)
	AND #$00FF
	BNE @UNKNOWN7
	LDA .LOWORD(UNKNOWN_7EB4EF)
	BNE @UNKNOWN8
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0017
	STA a:.LOWORD(TM_MIRROR)
@UNKNOWN8:
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E4A58)
	BEQ @UNKNOWN9
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E4A58)
@UNKNOWN9:
	LDA .LOWORD(UNKNOWN_7E4380)
	SEC
	SBC #$0080
	STA a:.LOWORD(BG2_X_POS)
	STA a:.LOWORD(BG1_X_POS)
	LDA .LOWORD(UNKNOWN_7E4382)
	SEC
	SBC #$0070
	STA a:.LOWORD(BG2_Y_POS)
	STA a:.LOWORD(BG1_Y_POS)
	LDY #$FFFF
	STY $12
	BRA @UNKNOWN11
@UNKNOWN10:
	TYA
	CLC
	ADC $14
	STA $02
	LDX $02
	LDA $10
	JSR a:.LOWORD(UNKNOWN_C00E16)
	LDX $02
	LDA $10
	JSL UNKNOWN_C0255C
	LDY $12
	INY
	STY $12
@UNKNOWN11:
	CPY #$001F
	BNE @UNKNOWN10
	LDY #$FFF8
	STY $12
	BRA @UNKNOWN13
@UNKNOWN12:
	TYA
	CLC
	ADC $14
	TAX
	LDA $10
	SEC
	SBC #$0008
	JSL SPAWN_HORIZONTAL
	LDY $12
	INY
	STY $12
@UNKNOWN13:
	CPY #$0028
	BNE @UNKNOWN12
	LDA .LOWORD(UNKNOWN_7E4A58)
	BEQ @UNKNOWN14
	LDA #$FFFF
	STA .LOWORD(UNKNOWN_7E4A58)
@UNKNOWN14:
	LDA $10
	STA .LOWORD(UNKNOWN_7E4374)
	LDA $14
	STA .LOWORD(UNKNOWN_7E4376)
	PLD
	RTL
